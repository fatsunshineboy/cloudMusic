import{b2 as e,aC as a,aw as t,b3 as l,b4 as n,Z as s,aa as i,r as o,a1 as r,u,y as c,af as d,ac as v,a2 as p,p as m,aE as h,as as f,d as y,$ as g,o as b,c as I,a as C,g as k,w,A as x,n as _,an as L,b as M,ao as S,aZ as E,B as T,a6 as N,s as $,a_ as A,ah as B,a5 as R,F as D,l as P,t as j,a7 as H,i as O,ae as U,b5 as V,b6 as q,aj as G,aT as W,q as z,I as F,v as Z,x as K,j as X,_ as Y,k as J,e as Q,E as ee,G as ae}from"./index.21005268.js";import{p as te}from"./playListApi.a8a23c75.js";function le(t,l,n){var s=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),a(t,l,{leading:s,maxWait:l,trailing:i})}const ne=Symbol("carouselContextKey"),se=(e,a)=>{const s={},i=t([]);return{children:i,addChild:t=>{s[t.uid]=t,i.value=((e,a,t)=>l(e.subTree).filter((e=>{var t;return n(e)&&(null==(t=e.type)?void 0:t.name)===a&&!!e.component})).map((e=>e.component.uid)).map((e=>t[e])).filter((e=>!!e)))(e,a,s)},removeChild:e=>{delete s[e],i.value=i.value.filter((a=>a.uid!==e))}}},ie=s({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),oe={change:(e,a)=>[e,a].every(i)},re=(e,a,l)=>{const{children:n,addChild:s,removeChild:i}=se(f(),"ElCarouselItem"),y=o(-1),g=o(null),b=o(!1),I=o(),C=r((()=>"never"!==e.arrow&&!u(x))),k=r((()=>n.value.some((e=>e.props.label.toString().length>0)))),w=r((()=>"card"===e.type)),x=r((()=>"vertical"===e.direction)),_=le((e=>{T(e)}),300,{trailing:!0}),L=le((a=>{!function(a){"hover"===e.trigger&&a!==y.value&&(y.value=a)}(a)}),300);function M(){g.value&&(clearInterval(g.value),g.value=null)}function S(){e.interval<=0||!e.autoplay||g.value||(g.value=setInterval((()=>E()),e.interval))}const E=()=>{y.value<n.value.length-1?y.value=y.value+1:e.loop&&(y.value=0)};function T(a){if(h(a)){const e=n.value.filter((e=>e.props.name===a));e.length>0&&(a=n.value.indexOf(e[0]))}if(a=Number(a),Number.isNaN(a)||a!==Math.floor(a))return;const t=n.value.length,l=y.value;y.value=a<0?e.loop?t-1:0:a>=t?e.loop?0:t-1:a,l===y.value&&N(l),$()}function N(e){n.value.forEach(((a,t)=>{a.translateItem(t,y.value,e)}))}function $(){M(),S()}c((()=>y.value),((e,t)=>{N(t),t>-1&&a("change",e,t)})),c((()=>e.autoplay),(e=>{e?S():M()})),c((()=>e.loop),(()=>{T(y.value)})),c((()=>e.interval),(()=>{$()})),c((()=>n.value),(()=>{n.value.length>0&&T(e.initialIndex)}));const A=t();return d((()=>{A.value=v(I.value,(()=>{N()})),S()})),p((()=>{M(),I.value&&A.value&&A.value.stop()})),m(ne,{root:I,isCardType:w,isVertical:x,items:n,loop:e.loop,addItem:s,removeItem:i,setActiveItem:T}),{root:I,activeIndex:y,arrowDisplay:C,hasLabel:k,hover:b,isCardType:w,items:n,handleButtonEnter:function(e){u(x)||n.value.forEach(((a,t)=>{e===function(e,a){var t,l,s,i;const o=u(n),r=o.length;if(0===r||!e.states.inStage)return!1;const c=a+1,d=a-1,v=r-1,p=o[v].states.active,m=o[0].states.active,h=null==(l=null==(t=o[c])?void 0:t.states)?void 0:l.active,f=null==(i=null==(s=o[d])?void 0:s.states)?void 0:i.active;return a===v&&m||h?"left":!!(0===a&&p||f)&&"right"}(a,t)&&(a.states.hover=!0)}))},handleButtonLeave:function(){u(x)||n.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){y.value=e},handleMouseEnter:function(){b.value=!0,e.pauseOnHover&&M()},handleMouseLeave:function(){b.value=!1,S()},setActiveItem:T,prev:function(){T(y.value-1)},next:function(){T(y.value+1)},throttledArrowClick:_,throttledIndicatorHover:L}},ue=["onMouseenter","onClick"],ce={key:0},de=y({name:"ElCarousel"});var ve=H(y({...de,props:ie,emits:oe,setup(e,{expose:a,emit:t}){const l=e,{root:n,activeIndex:s,arrowDisplay:i,hasLabel:o,hover:c,isCardType:d,items:v,handleButtonEnter:p,handleButtonLeave:m,handleIndicatorClick:h,handleMouseEnter:f,handleMouseLeave:y,setActiveItem:H,prev:O,next:U,throttledArrowClick:V,throttledIndicatorHover:q}=re(l,t),G=g("carousel"),W=r((()=>{const e=[G.b(),G.m(l.direction)];return u(d)&&e.push(G.m("card")),e})),z=r((()=>{const e=[G.e("indicators"),G.em("indicators",l.direction)];return u(o)&&e.push(G.em("indicators","labels")),("outside"===l.indicatorPosition||u(d))&&e.push(G.em("indicators","outside")),e}));return a({setActiveItem:H,prev:O,next:U}),(e,a)=>(b(),I("div",{ref_key:"root",ref:n,class:_(u(W)),onMouseenter:a[6]||(a[6]=L(((...e)=>u(f)&&u(f)(...e)),["stop"])),onMouseleave:a[7]||(a[7]=L(((...e)=>u(y)&&u(y)(...e)),["stop"]))},[C("div",{class:_(u(G).e("container")),style:R({height:e.height})},[u(i)?(b(),k(N,{key:0,name:"carousel-arrow-left",persisted:""},{default:w((()=>[x(C("button",{type:"button",class:_([u(G).e("arrow"),u(G).em("arrow","left")]),onMouseenter:a[0]||(a[0]=e=>u(p)("left")),onMouseleave:a[1]||(a[1]=(...e)=>u(m)&&u(m)(...e)),onClick:a[2]||(a[2]=L((e=>u(V)(u(s)-1)),["stop"]))},[M(u(S),null,{default:w((()=>[M(u(E))])),_:1})],34),[[T,("always"===e.arrow||u(c))&&(l.loop||u(s)>0)]])])),_:1})):$("v-if",!0),u(i)?(b(),k(N,{key:1,name:"carousel-arrow-right",persisted:""},{default:w((()=>[x(C("button",{type:"button",class:_([u(G).e("arrow"),u(G).em("arrow","right")]),onMouseenter:a[3]||(a[3]=e=>u(p)("right")),onMouseleave:a[4]||(a[4]=(...e)=>u(m)&&u(m)(...e)),onClick:a[5]||(a[5]=L((e=>u(V)(u(s)+1)),["stop"]))},[M(u(S),null,{default:w((()=>[M(u(A))])),_:1})],34),[[T,("always"===e.arrow||u(c))&&(l.loop||u(s)<u(v).length-1)]])])),_:1})):$("v-if",!0),B(e.$slots,"default")],6),"none"!==e.indicatorPosition?(b(),I("ul",{key:0,class:_(u(z))},[(b(!0),I(D,null,P(u(v),((a,t)=>(b(),I("li",{key:t,class:_([u(G).e("indicator"),u(G).em("indicator",e.direction),u(G).is("active",t===u(s))]),onMouseenter:e=>u(q)(t),onClick:L((e=>u(h)(t)),["stop"])},[C("button",{class:_(u(G).e("button"))},[u(o)?(b(),I("span",ce,j(a.props.label),1)):$("v-if",!0)],2)],42,ue)))),128))],2)):$("v-if",!0)],34))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const pe=s({name:{type:String,default:""},label:{type:[String,Number],default:""}}),me=(e,a)=>{const t=O(ne),l=f(),n=.83,s=o(!1),i=o(0),r=o(1),c=o(!1),v=o(!1),p=o(!1),m=o(!1),{isCardType:h,isVertical:y}=t;const g=(e,a,l)=>{var s;const o=u(h),d=null!=(s=t.items.value.length)?s:Number.NaN,f=e===a;o||q(l)||(m.value=f||e===l),!f&&d>2&&t.loop&&(e=function(e,a,t){const l=t-1,n=t/2;return 0===a&&e===l?-1:a===l&&0===e?t:e<a-1&&a-e>=n?t+1:e>a+1&&e-a>=n?-2:e}(e,a,d));const g=u(y);c.value=f,o?(p.value=Math.round(Math.abs(e-a))<=1,i.value=function(e,a){var l;const n=(null==(l=t.root.value)?void 0:l.offsetWidth)||0;return p.value?n*(1.17*(e-a)+1)/4:e<a?-1.83*n/4:3.83*n/4}(e,a),r.value=u(c)?1:n):i.value=function(e,a,l){const n=t.root.value;return n?((l?n.offsetHeight:n.offsetWidth)||0)*(e-a):0}(e,a,g),v.value=!0};return d((()=>{t.addItem({props:e,states:U({hover:s,translate:i,scale:r,active:c,ready:v,inStage:p,animating:m}),uid:l.uid,translateItem:g})})),V((()=>{t.removeItem(l.uid)})),{active:c,animating:m,hover:s,inStage:p,isVertical:y,translate:i,isCardType:h,scale:r,ready:v,handleItemClick:function(){if(t&&u(h)){const e=t.items.value.findIndex((({uid:e})=>e===l.uid));t.setActiveItem(e)}}}},he=y({name:"ElCarouselItem"});var fe=H(y({...he,props:pe,setup(e){const a=e,t=g("carousel"),{active:l,animating:n,hover:s,inStage:i,isVertical:o,translate:c,isCardType:d,scale:v,ready:p,handleItemClick:m}=me(a),h=r((()=>({transform:[`${"translate"+(u(o)?"Y":"X")}(${u(c)}px)`,`scale(${u(v)})`].join(" ")})));return(e,a)=>x((b(),I("div",{class:_([u(t).e("item"),u(t).is("active",u(l)),u(t).is("in-stage",u(i)),u(t).is("hover",u(s)),u(t).is("animating",u(n)),{[u(t).em("item","card")]:u(d)}]),style:R(u(h)),onClick:a[0]||(a[0]=(...e)=>u(m)&&u(m)(...e))},[u(d)?x((b(),I("div",{key:0,class:_(u(t).e("mask"))},null,2)),[[T,!u(l)]]):$("v-if",!0),B(e.$slots,"default")],6)),[[T,u(p)]])}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const ye=G(ve,{CarouselItem:fe}),ge=W(fe),be=e=>z({url:"/banner",method:"GET",params:{type:e}}),Ie=()=>z({url:"/recommend/resource",method:"GET"}),Ce=""+new URL("dailyRecommend.26e6fdeb.jpg",import.meta.url).href,ke=e=>(Z("data-v-03c167dc"),e=e(),K(),e),we={class:"img"},xe=ke((()=>C("img",{src:Ce},null,-1))),_e={class:"calendar"},Le={class:"body"},Me=ke((()=>C("div",{class:"header left"},null,-1))),Se=ke((()=>C("div",{class:"header right"},null,-1))),Ee=ke((()=>C("div",{class:"gap"},null,-1))),Te={class:"date"},Ne=ke((()=>C("div",{class:"playIcon"},[C("svg",{class:"icon","aria-hidden":"true"},[C("use",{"xlink:href":"#icon-shipinbofangshibofang"})])],-1))),$e=ke((()=>C("div",{class:"tip"},"根据你的音乐口味生成每日更新",-1))),Ae=ke((()=>C("div",{class:"title"},"每日歌曲推荐",-1))),Be=["onClick"],Re={class:"img"},De=["src"],Pe={class:"playCount"},je=ke((()=>C("div",{class:"iconItem"},[C("svg",{class:"icon","aria-hidden":"true"},[C("use",{"xlink:href":"#icon-bofang"})])],-1))),He={class:"count"},Oe=ke((()=>C("div",{class:"playIcon"},[C("svg",{class:"icon","aria-hidden":"true"},[C("use",{"xlink:href":"#icon-shipinbofangshibofang"})])],-1))),Ue={class:"title"},Ve=Y(y({__name:"RecommendItem",props:{itmeLineCount:{type:Number,required:!0,default:5},playList:{type:Array,required:!0},showDailyRecommend:{type:Boolean,default:!1}},setup(e){const a=e,t=X();let l=[1287293193,1463586082],n=o();c((()=>a.playList),(async()=>{let e=a.playList;for(let a=0;a<(null==e?void 0:e.length);a++){let t=e[a];-1!=l.indexOf(t.userId)&&await te.getPlaylistDetail({id:t.id}).then((t=>{e.splice(a,1,t.playlist)}))}n.value=e}),{immediate:!0});const s=e=>(e+1+(a.showDailyRecommend?1:0))%a.itmeLineCount==0;return(l,i)=>(b(),I("div",{id:"recommendItem",style:R({"--itmeLineCount":a.itmeLineCount})},[e.showDailyRecommend?(b(),I("div",{key:0,class:"item dailyRecommend",onClick:i[0]||(i[0]=e=>u(t).push("/dailysongs"))},[C("div",we,[xe,C("div",_e,[C("div",Le,[Me,Se,Ee,C("div",Te,j((new Date).getDate()),1)])]),Ne,$e]),Ae])):$("",!0),(b(!0),I(D,null,P(u(n),((e,a)=>(b(),I("div",{class:_(["item",{clearMarginRight:s(a)}]),onClick:a=>u(t).push(`/songlist/${null==e?void 0:e.id}`)},[C("div",Re,[C("img",{src:`${(null==e?void 0:e.picUrl)||(null==e?void 0:e.coverImgUrl)}?param=300y300`},null,8,De),C("div",Pe,[je,C("div",He,j(u(F)((null==e?void 0:e.playcount)||(null==e?void 0:e.playCount)||0)),1)]),Oe]),C("div",Ue,j(null==e?void 0:e.name),1)],10,Be)))),256))],4))}}),[["__scopeId","data-v-03c167dc"]]),qe={id:"personalRecommend"},Ge={class:"banner"},We=["src","onClick"],ze={class:"recommendPlayList"},Fe={class:"playList"},Ze=Y(y({__name:"PersonalRecommend",setup(e){const a=J(),t=X(),l=Q();let n=o([]);Ie().then((e=>{var a;n.value=null==(a=e.recommend)?void 0:a.slice(0,9)}));let s=o([]);be().then((e=>{s.value=e.banners}));return O("changeFindMusicIsSelectedIndex")(l.meta.selectedIndex),(e,l)=>{const i=ge,o=ye;return b(),I("div",qe,[C("div",Ge,[M(o,{interval:3500,type:"card",height:"204px"},{default:w((()=>[(b(!0),I(D,null,P(u(s),((e,l)=>(b(),k(i,{key:l},{default:w((()=>[C("img",{class:"bannerImg",src:`${e.imageUrl}?param=550y204`,height:"204",onClick:l=>(e=>{switch(e.targetType){case 1:ee.getSongDetail({ids:e.targetId}).then((e=>{let t=e.songs[0];a.appendSongToPlayLsit([{id:t.id,songName:t.name,singer:t.ar[0].name,sourceType:3,source:"banner",time:ae(t.dt/1e3)}],!0)}));break;case 10:t.push(`/album/${e.targetId}`);break;case 3e3:window.open(`${e.url}`)}})(e)},null,8,We),C("span",{class:"bannerTitle",style:R(`background-color:${e.titleColor}`)},j(e.typeTitle),5)])),_:2},1024)))),128))])),_:1})]),C("div",ze,[C("div",{class:"title",onClick:l[0]||(l[0]=e=>u(t).push("/findmusic/playlist"))},"推荐歌单"),C("div",Fe,[M(Ve,{"itme-line-count":5,"play-list":u(n),"show-daily-recommend":!0},null,8,["play-list"])])])])}}}),[["__scopeId","data-v-6273db84"]]);export{Ze as default};
