import{r as e,d as s,a,w as l,o as i,c,b as r,t,e as u,f as d,n,g as o,u as v,h,i as k,s as m,p as y,j as g,k as p,l as b,_ as S}from"./index.ab7a8b15.js";const w=s=>e({url:"/artist/detail",method:"GET",params:s}),C=s=>e({url:"/artist/follow/count",method:"GET",params:s}),f={class:"searchResult"},q={class:"searchValue"},_={class:"title"},x={class:"maybeInteresting"},I=(e=>(y("data-v-d249f238"),e=e(),g(),e))((()=>r("div",{class:"title"},"你可能感兴趣",-1))),E={class:"content"},R={class:"interestingItem artist"},j={class:"img"},G=["src"],T={class:"text"},z={id:"artist"},L={id:"title"},M={key:0,id:"alias"},N={id:"introduce"},V={class:"navigate"},A={class:"introduce"},B=S(s({__name:"SearchResult",setup(e){const s=v(),y=h();let g=a(1),S=a(0),B=a("首"),D=a("单曲");s.query.keywords||y.push("/");k("clearSelectedIndex")();const F=(e,a)=>{var l;switch(a){case 1:B.value="首",D.value="单曲";break;case 2:B.value="位",D.value="歌手";break;case 3:B.value="张",D.value="专辑";break;case 4:B.value="个",D.value="视频";break;case 5:B.value="个",D.value="歌单";break;case 6:B.value="首",D.value="歌词";break;case 7:B.value="个",D.value="播客";break;case 8:B.value="个",D.value="声音";break;case 9:B.value="位",D.value="用户"}g.value=a,S.value=0,y.push({path:e,query:{keywords:null==(l=s.query)?void 0:l.keywords}})};b("changeSearchResultNum",(e=>{S.value=e}));let H=a(),J=a(0),K=a("");const O=()=>{m.search({keywords:s.query.keywords,limit:1}).then((e=>{let s;e.result.songs&&(s=e.result.songs[0].ar[0].id,K.value=e.result.songs[0].ar[0].alias[0],w({id:s}).then((e=>{H.value=e.data.artist,H.value.cover+="?param=250y250"})),C({id:s}).then((e=>{J.value=e.data.fansCnt})))}))};O(),l((()=>s.query.keywords),(()=>{O()}));const P=()=>{};return(e,a)=>{var l,v,h,k;const m=p("router-view");return i(),c("div",f,[r("div",q,[r("div",_,"搜索 "+t(null==(l=u(s).query)?void 0:l.keywords),1)]),r("div",x,[I,r("div",E,[r("div",R,[r("div",j,[r("img",{id:"img",src:null==(v=u(H))?void 0:v.cover,onError:P},null,40,G)]),r("div",T,[r("div",z,[r("span",L,"歌手："+t(null==(h=u(H))?void 0:h.name),1),u(K)?(i(),c("span",M," ("+t(u(K))+")",1)):d("",!0)]),r("div",N,"粉丝:"+t((y=u(J),y>1e4?Math.floor(y/1e4)+"万":y+""))+", 歌曲:"+t(null==(k=u(H))?void 0:k.musicSize),1)])])])]),r("div",V,[r("ul",null,[r("li",{class:n({isSelected:1===u(g)}),onClick:a[0]||(a[0]=e=>F("/search/single",1))}," 单曲 ",2),r("li",{class:n({isSelected:2===u(g)}),onClick:a[1]||(a[1]=e=>F("/search/singer",2))}," 歌手 ",2),r("li",{class:n({isSelected:3===u(g)}),onClick:a[2]||(a[2]=e=>F("/search/album",3))}," 专辑 ",2),r("li",{class:n({isSelected:4===u(g)}),onClick:a[3]||(a[3]=e=>F("/search/video",4))}," 视频 ",2),r("li",{class:n({isSelected:5===u(g)}),onClick:a[4]||(a[4]=e=>F("/search/songList",5))}," 歌单 ",2),r("li",{class:n({isSelected:6===u(g)}),onClick:a[5]||(a[5]=e=>F("/search/lyric",6))}," 歌词 ",2),r("li",{class:n({isSelected:7===u(g)}),onClick:a[6]||(a[6]=e=>F("/search/podcast",7))}," 播客 ",2),r("li",{class:n({isSelected:8===u(g)}),onClick:a[7]||(a[7]=e=>F("/search/voice",8))}," 声音 ",2),r("li",{class:n({isSelected:9===u(g)}),onClick:a[8]||(a[8]=e=>F("/search/user",9))}," 用户 ",2)]),r("div",A," 找到 "+t(u(S))+" "+t(u(B))+t(u(D)),1)]),o(m)]);var y}}}),[["__scopeId","data-v-d249f238"]]);export{B as default};
