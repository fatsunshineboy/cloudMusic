import{d as a,g as e,o as l,c as s,F as i,h as t,i as n,n as d,a as o,t as v,u as c,j as r,_ as u,k as m,l as p,e as g,p as b,m as h,r as y,w as k,b as I,q as C,s as f,v as x,x as _,y as T,z as S,A as $}from"./index.c3c5c69a.js";import{E as w,P as D}from"./PlayAllAndDownloadAll.78caa948.js";const L={id:"songPlayList"},A=n('<div id="title" data-v-9935168c><div class="action" data-v-9935168c>操作</div><div class="title" data-v-9935168c>标题</div><div class="songer" data-v-9935168c>歌手</div><div class="album" data-v-9935168c>专辑</div><div class="time" data-v-9935168c>时间</div></div>',1),P=["onDblclick"],z={class:"tool"},U={class:"order"},j=n('<div class="favourite" data-v-9935168c><div class="iconItem" data-v-9935168c><svg class="icon" aria-hidden="true" data-v-9935168c><use xlink:href="#icon-aixin" data-v-9935168c></use></svg></div></div><div class="download" data-v-9935168c><div class="iconItem" data-v-9935168c><svg class="icon" aria-hidden="true" data-v-9935168c><use xlink:href="#icon-xiazai1" data-v-9935168c></use></svg></div></div>',2),E={class:"content"},R={class:"title"},q={class:"songer"},B={class:"album"},G={class:"time"},F=u(a({__name:"SongPlayList",props:["playListDetail"],setup(a){const n=a,u=e(),m=a=>a<10?"0"+(a+1):a+"";return(a,e)=>(l(),s("div",L,[A,(l(!0),s(i,null,t(n.playListDetail,((a,e)=>(l(),s("div",{class:d(["singleItem",{bgColor:e%2==0}]),key:e,onDblclick:e=>(a=>{let e={id:a.id,songName:a.name,singer:a.ar[0].name,source:"搜索页",time:r(a.dt/1e3)};u.appendSongToPlayLsit([e])})(a)},[o("div",z,[o("div",U,v(m(e)),1),j]),o("div",E,[o("div",R,v(a.name),1),o("div",q,v(a.ar[0].name),1),o("div",B,v(a.al.name),1),o("div",G,v(c(r)(a.dt/1e3)),1)])],42,P)))),128))]))}}),[["__scopeId","data-v-9935168c"]]),H=a=>m({url:`/comment/playlist?timerstamp=${Date.now()}`,method:"GET",params:a}),N=a=>m({url:`/comment/like?timerstamp=${Date.now()}`,method:"GET",params:a});var M=(a=>(a[a.song=0]="song",a[a.mv=1]="mv",a[a.playlist=2]="playlist",a[a.album=3]="album",a[a.radiioStationProgram=4]="radiioStationProgram",a[a.video=5]="video",a[a.post=6]="post",a[a.radiioStation=7]="radiioStation",a))(M||{});const O={class:"contentItem"},V=["src"],Y={class:"detail"},J={class:"nameAndText"},K={class:"text"},Q={key:0,id:"reply"},W={class:"text"},X={class:"timeAndTool"},Z={class:"time"},aa={class:"commentTool"},ea=(a=>(b("data-v-a7de5339"),a=a(),h(),a))((()=>o("div",{class:"support"},[o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-dianzan"})])],-1))),la={class:"supportCount"},sa=n('<div class="gap" data-v-a7de5339>|</div><div class="share" data-v-a7de5339><svg class="icon" aria-hidden="true" data-v-a7de5339><use xlink:href="#icon-fenxiang" data-v-a7de5339></use></svg></div><div class="gap" data-v-a7de5339>|</div><div class="reply" data-v-a7de5339><svg class="icon" aria-hidden="true" data-v-a7de5339><use xlink:href="#icon-pinglun" data-v-a7de5339></use></svg></div>',4),ia=u(a({__name:"Comment",props:{commentItem:{type:Object,required:!0},likeCommentButton:{type:Function,required:!0}},setup(a){const e=g();return(i,t)=>{var n,d,r,u,m,g,b,h,y,k,I,C,f,x;return l(),s("div",O,[o("img",{src:`${null==(d=null==(n=a.commentItem)?void 0:n.user)?void 0:d.avatarUrl}?param=60y60`,onClick:t[0]||(t[0]=l=>{var s,i;return c(e).push(`/user/${null==(i=null==(s=a.commentItem)?void 0:s.user)?void 0:i.userId}`)})},null,8,V),o("div",Y,[o("div",J,[o("span",{class:"name",onClick:t[1]||(t[1]=l=>{var s,i;return c(e).push(`/user/${null==(i=null==(s=a.commentItem)?void 0:s.user)?void 0:i.userId}`)})},v(null==(u=null==(r=a.commentItem)?void 0:r.user)?void 0:u.nickname),1),o("span",K," : "+v(null==(m=a.commentItem)?void 0:m.content),1)]),(null==(b=null==(g=a.commentItem)?void 0:g.beReplied)?void 0:b.length)?(l(),s("div",Q,[o("div",{class:"name",onClick:t[2]||(t[2]=l=>{var s,i,t;return c(e).push(`/user/${null==(t=null==(i=null==(s=a.commentItem)?void 0:s.beReplied[0])?void 0:i.user)?void 0:t.userId}`)})},"@"+v(null==(k=null==(y=null==(h=a.commentItem)?void 0:h.beReplied[0])?void 0:y.user)?void 0:k.nickname),1),o("div",W," : "+v(null==(C=null==(I=a.commentItem)?void 0:I.beReplied[0])?void 0:C.content),1)])):p("",!0),o("div",X,[o("div",Z,v(null==(f=a.commentItem)?void 0:f.timeStr),1),o("div",aa,[o("div",{class:"supportAndCount",onClick:t[3]||(t[3]=e=>{var l,s;return a.likeCommentButton(null==(l=a.commentItem)?void 0:l.commentId,(null==(s=a.commentItem)?void 0:s.liked)?0:1)})},[ea,o("span",la,v(null==(x=a.commentItem)?void 0:x.likedCount),1)]),sa])])])])}}}),[["__scopeId","data-v-a7de5339"]]),ta=a=>(b("data-v-1033bb6d"),a=a(),h(),a),na={id:"comment"},da=n('<textarea class="textarea customeScroll" name="saysths" rows="3" wrap="soft" data-v-1033bb6d></textarea><div class="tool" data-v-1033bb6d><div class="iconItem" data-v-1033bb6d><div class="topic" data-v-1033bb6d><svg class="icon" aria-hidden="true" data-v-1033bb6d><use xlink:href="#icon-hashjinghao" data-v-1033bb6d></use></svg></div><div class="at" data-v-1033bb6d><svg class="icon" aria-hidden="true" data-v-1033bb6d><use xlink:href="#icon-aite1" data-v-1033bb6d></use></svg></div><div class="emoji" data-v-1033bb6d><svg class="icon" aria-hidden="true" data-v-1033bb6d><use xlink:href="#icon-xiaolian1" data-v-1033bb6d></use></svg></div></div><div class="sendComment" data-v-1033bb6d>评论</div></div>',2),oa={class:"content"},va={key:0,class:"noComment"},ca={key:1,class:"hotComment"},ra=ta((()=>o("div",{class:"title"},"精彩评论",-1))),ua={key:2,class:"moreHotComment"},ma={key:3,class:"latestComment"},pa={class:"title"},ga={class:"pagination"},ba=u(a({__name:"Comment",props:{type:{type:Number,required:!0}},setup(a,{expose:e}){const n=a,r=f();let u=y(),m=y(),g=y(),b=y(0),h=y(1),x=y(100);const _=(a,e)=>{N({id:r.params.id,cid:a,t:e,type:n.type}).then((a=>{T()}))},T=()=>{if(n.type===M.playlist)S(x.value,(h.value-1)*x.value)},S=(a,e,l)=>{H({id:r.params.id,limit:a,offset:e}).then((a=>{var e;u.value=null==a?void 0:a.comments,b.value=a.total,m.value=null==(e=null==a?void 0:a.hotComments)?void 0:e.slice(0,10),g.value=null==a?void 0:a.moreHot}))};return k((()=>h.value),(()=>{u.value=[],m.value=[],T()}),{immediate:!0}),e({getComment:T}),(a,e)=>{var n,r,y,k,f;const T=w;return l(),s("div",na,[da,o("div",oa,[(null==(n=c(u))?void 0:n.length)||(null==(r=c(m))?void 0:r.length)?p("",!0):(l(),s("div",va," 还没有评论，快来抢沙发~ ")),(null==(y=c(m))?void 0:y.length)?(l(),s("div",ca,[ra,(l(!0),s(i,null,t(c(m),((a,e)=>(l(),s("div",{class:"contentItem borderBottom",key:e},[I(ia,{"comment-item":a,"like-comment-button":_},null,8,["comment-item"])])))),128))])):p("",!0),(null==(k=c(m))?void 0:k.length)&&c(g)?(l(),s("div",ua," 更多精彩评论 > ")):p("",!0),(null==(f=c(u))?void 0:f.length)?(l(),s("div",ma,[o("div",pa,"最新评论("+v(c(b))+")",1),(l(!0),s(i,null,t(c(u),((a,e)=>{var i;return l(),s("div",{class:d(["contentItem",{borderBottom:e!=(null==(i=c(u))?void 0:i.length)-1}]),key:e},[I(ia,{"comment-item":a,"like-comment-button":_},null,8,["comment-item"])],2)})),128))])):p("",!0),o("div",ga,[I(T,{small:"",background:"",layout:"prev, pager, next",total:c(b),"page-size":c(x),"current-page":c(h),"onUpdate:current-page":e[0]||(e[0]=a=>C(h)?h.value=a:h=a),"hide-on-single-page":!0,class:"mt-4"},null,8,["total","page-size","current-page"])])])])}}}),[["__scopeId","data-v-1033bb6d"]]),ha=a=>m({url:"/playlist/detail",method:"GET",params:a}),ya=a=>m({url:"/playlist/subscribers",method:"GET",params:a}),ka=a=>(b("data-v-f13211a2"),a=a(),h(),a),Ia={id:"subscribers"},Ca=["onClick"],fa=["src"],xa={class:"userAndIntro"},_a={class:"user"},Ta={class:"name"},Sa={class:"gender male"},$a=[ka((()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-nanxing"})],-1)))],wa={class:"gender female"},Da=[ka((()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-nvxing"})],-1)))],La={class:"pagination"},Aa=u(a({__name:"Subscribers",setup(a){const e=f(),n=g();let d=y(0),r=y(1),u=y(60),m=y();const p=()=>{m.value=[],ya({id:e.params.id,limit:u.value,offset:(r.value-1)*u.value}).then((a=>{d.value=a.total,m.value=a.subscribers}))};return p(),k((()=>r.value),(()=>{p()})),(a,e)=>{const p=w;return l(),s("div",Ia,[(l(!0),s(i,null,t(c(m),((a,e)=>(l(),s("div",{class:"subscriber",key:e,onClick:e=>c(n).push(`/user/${null==a?void 0:a.userId}`)},[o("img",{src:`${null==a?void 0:a.avatarUrl}?param=110y110`},null,8,fa),o("div",xa,[o("div",_a,[o("div",Ta,v(null==a?void 0:a.nickname),1),x(o("div",Sa,$a,512),[[_,1===(null==a?void 0:a.gender)]]),x(o("div",wa,Da,512),[[_,2===(null==a?void 0:a.gender)]])]),x(o("div",{class:"intro"},v(null==a?void 0:a.signature),513),[[_,null==a?void 0:a.signature]])])],8,Ca)))),128)),o("div",La,[I(p,{small:"",background:"",layout:"prev, pager, next",total:c(d),"page-size":c(u),"current-page":c(r),"onUpdate:current-page":e[0]||(e[0]=a=>C(r)?r.value=a:r=a),"hide-on-single-page":!0,class:"mt-4"},null,8,["total","page-size","current-page"])])])}}}),[["__scopeId","data-v-f13211a2"]]),Pa=a=>(b("data-v-7c4a3c71"),a=a(),h(),a),za={id:"songList"},Ua={class:"header"},ja={class:"songListImg"},Ea=["src"],Ra={class:"detail"},qa={class:"title"},Ba=Pa((()=>o("div",{class:"alias"},"歌单",-1))),Ga={class:"name"},Fa=Pa((()=>o("div",{class:"edit iconItem"},null,-1))),Ha={class:"creater"},Na={class:"createrImg"},Ma=["src"],Oa={class:"time"},Va={class:"tool"},Ya={class:"introduce"},Ja={class:"tags"},Ka=Pa((()=>o("span",{class:"introduceTitle"},"标签 : ",-1))),Qa={class:"songsCount"},Wa=Pa((()=>o("span",{class:"introduceTitle"},"歌曲 : ",-1))),Xa={class:"playTime"},Za=Pa((()=>o("span",{class:"introduceTitle"},"播放 : ",-1))),ae={class:"brief"},ee=Pa((()=>o("span",{class:"introduceTitle"},"简介 : ",-1))),le={class:"navigate"},se=u(a({__name:"SongListView",setup(a){const e=f(),i=y();k((()=>e.params.id),(()=>{var a;t.value=1,n.value=[],u(),null==(a=i.value)||a.getComment()}));let t=y(1),n=y(),r=y([]);const u=()=>{ha({id:e.params.id}).then((a=>{n.value=a.playlist})).catch((a=>{$.replace("/")}))};u();const m=a=>{let e=new Date(a);return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`};return(a,e)=>{var u,g,b,h,y,k,f,$,w,L,A,P,z,U,j,E,R,q,B,G,H,N,O;return l(),s("div",za,[o("div",Ua,[o("div",ja,[o("img",{src:null==(u=c(n))?void 0:u.coverImgUrl,alt:"",srcset:""},null,8,Ea)]),o("div",Ra,[o("div",qa,[Ba,o("div",Ga,v(null==(g=c(n))?void 0:g.name),1),Fa]),o("div",Ha,[x(o("div",Na,[o("img",{src:`${null==(h=null==(b=c(n))?void 0:b.creator)?void 0:h.avatarUrl}?param=100y100`,alt:"",srcset:""},null,8,Ma)],512),[[_,null==(k=null==(y=c(n))?void 0:y.creator)?void 0:k.avatarUrl]]),x(o("div",{class:"name"},v(null==($=null==(f=c(n))?void 0:f.creator)?void 0:$.nickname),513),[[_,null==(L=null==(w=c(n))?void 0:w.creator)?void 0:L.nickname]]),o("div",Oa,v(m(null==(A=c(n))?void 0:A.createTime))+"创建",1)]),o("div",Va,[I(D,{"play-list":c(r)},null,8,["play-list"])]),o("div",Ya,[o("div",Ja,[Ka,x(o("span",null,"添加标签",512),[[_,!(null==(z=null==(P=c(n))?void 0:P.tags)?void 0:z.length)]]),x(o("span",null,v(null==(U=c(n))?void 0:U.tags),513),[[_,null==(E=null==(j=c(n))?void 0:j.tags)?void 0:E.length]])]),o("div",Qa,[Wa,T(v(null==(R=c(n))?void 0:R.trackCount),1)]),o("div",Xa,[Za,T(v(null==(q=c(n))?void 0:q.playCount),1)]),o("div",ae,[ee,x(o("span",null,"添加简介",512),[[_,!(null==(B=c(n))?void 0:B.description)]]),x(o("span",null,v(null==(G=c(n))?void 0:G.description),513),[[_,null==(H=c(n))?void 0:H.description]])])])])]),o("div",le,[o("div",{class:d(["songPlayList",{isSelected:1===c(t)}]),onClick:e[0]||(e[0]=a=>C(t)?t.value=1:t=1)},"歌曲列表 ",2),o("div",{class:d(["comment",{isSelected:2===c(t)}]),onClick:e[1]||(e[1]=a=>C(t)?t.value=2:t=2)},"评论("+v((null==(N=c(n))?void 0:N.commentCount)||0)+")",3),o("div",{class:d(["collecter",{isSelected:3===c(t)}]),onClick:e[2]||(e[2]=a=>C(t)?t.value=3:t=3)},"收藏者 ",2)]),x(I(F,{"play-list-detail":null==(O=c(n))?void 0:O.tracks},null,8,["play-list-detail"]),[[_,1===c(t)]]),2===c(t)?(l(),S(ba,{key:0,type:c(M).playlist,ref_key:"commentRef",ref:i},null,8,["type"])):p("",!0),3===c(t)?(l(),S(Aa,{key:1})):p("",!0)])}}}),[["__scopeId","data-v-7c4a3c71"]]);export{se as default};
