import{r as C,d as x,a as h,w as R,o as E,c as b,b as s,t as v,e as t,f as N,n,g as $,u as q,h as T,i as V,s as G,p as j,j as z,k as M,l as L,_ as H}from"./index.f338fe1b.js";const J=u=>C({url:"/artist/desc",method:"GET",params:u}),K=u=>C({url:"/artist/detail",method:"GET",params:u}),O=u=>C({url:"/artist/follow/count",method:"GET",params:u}),w={getArtistDesc:J,getArtistDetail:K,getArtistFansCount:O},P=u=>(j("data-v-d249f238"),u=u(),z(),u),Q={class:"searchResult"},U={class:"searchValue"},W={class:"title"},X={class:"maybeInteresting"},Y=P(()=>s("div",{class:"title"},"\u4F60\u53EF\u80FD\u611F\u5174\u8DA3",-1)),Z={class:"content"},ee={class:"interestingItem artist"},se={class:"img"},te=["src"],ae={class:"text"},ue={id:"artist"},le={id:"title"},oe={key:0,id:"alias"},ie={id:"introduce"},re={class:"navigate"},ne={class:"introduce"},ce=x({__name:"SearchResult",setup(u){const _=q(),k=T();let l=h(1),g=h(0),o=h("\u9996"),i=h("\u5355\u66F2");_.query.keywords||k.push("/"),V("clearSelectedIndex")();const r=(a,e)=>{var c;switch(console.log(a),e){case 1:o.value="\u9996",i.value="\u5355\u66F2";break;case 2:o.value="\u4F4D",i.value="\u6B4C\u624B";break;case 3:o.value="\u5F20",i.value="\u4E13\u8F91";break;case 4:o.value="\u4E2A",i.value="\u89C6\u9891";break;case 5:o.value="\u4E2A",i.value="\u6B4C\u5355";break;case 6:o.value="\u9996",i.value="\u6B4C\u8BCD";break;case 7:o.value="\u4E2A",i.value="\u64AD\u5BA2";break;case 8:o.value="\u4E2A",i.value="\u58F0\u97F3";break;case 9:o.value="\u4F4D",i.value="\u7528\u6237";break}l.value=e,g.value=0,k.push({path:a,query:{keywords:(c=_.query)==null?void 0:c.keywords}})};L("changeSearchResultNum",a=>{g.value=a});let p=h(),y=h(0),m=h("");const D=a=>a>1e4?Math.floor(a/1e4)+"\u4E07":a+"",S=()=>{G.search({keywords:_.query.keywords,limit:1}).then(a=>{let e;a.result.songs&&(e=a.result.songs[0].ar[0].id,m.value=a.result.songs[0].ar[0].alias[0],w.getArtistDetail({id:e}).then(c=>{p.value=c.data.artist,p.value.cover+="?param=250y250"}),w.getArtistFansCount({id:e}).then(c=>{y.value=c.data.fansCnt}))})};S(),R(()=>_.query.keywords,()=>{S()});const I=()=>{console.log(123)};return(a,e)=>{var F,A,B,f;const c=M("router-view");return E(),b("div",Q,[s("div",U,[s("div",W,"\u641C\u7D22\xA0"+v((F=t(_).query)==null?void 0:F.keywords),1)]),s("div",X,[Y,s("div",Z,[s("div",ee,[s("div",se,[s("img",{id:"img",src:(A=t(p))==null?void 0:A.cover,onError:I},null,40,te)]),s("div",ae,[s("div",ue,[s("span",le,"\u6B4C\u624B\uFF1A"+v((B=t(p))==null?void 0:B.name),1),t(m)?(E(),b("span",oe,"\xA0("+v(t(m))+")",1)):N("",!0)]),s("div",ie,"\u7C89\u4E1D:"+v(D(t(y)))+", \u6B4C\u66F2:"+v((f=t(p))==null?void 0:f.musicSize),1)])])])]),s("div",re,[s("ul",null,[s("li",{class:n({isSelected:t(l)===1}),onClick:e[0]||(e[0]=d=>r("/search/single",1))}," \u5355\u66F2 ",2),s("li",{class:n({isSelected:t(l)===2}),onClick:e[1]||(e[1]=d=>r("/search/singer",2))}," \u6B4C\u624B ",2),s("li",{class:n({isSelected:t(l)===3}),onClick:e[2]||(e[2]=d=>r("/search/album",3))}," \u4E13\u8F91 ",2),s("li",{class:n({isSelected:t(l)===4}),onClick:e[3]||(e[3]=d=>r("/search/video",4))}," \u89C6\u9891 ",2),s("li",{class:n({isSelected:t(l)===5}),onClick:e[4]||(e[4]=d=>r("/search/songList",5))}," \u6B4C\u5355 ",2),s("li",{class:n({isSelected:t(l)===6}),onClick:e[5]||(e[5]=d=>r("/search/lyric",6))}," \u6B4C\u8BCD ",2),s("li",{class:n({isSelected:t(l)===7}),onClick:e[6]||(e[6]=d=>r("/search/podcast",7))}," \u64AD\u5BA2 ",2),s("li",{class:n({isSelected:t(l)===8}),onClick:e[7]||(e[7]=d=>r("/search/voice",8))}," \u58F0\u97F3 ",2),s("li",{class:n({isSelected:t(l)===9}),onClick:e[8]||(e[8]=d=>r("/search/user",9))}," \u7528\u6237 ",2)]),s("div",ne," \u627E\u5230 "+v(t(g))+" "+v(t(o))+v(t(i)),1)]),$(c)])}}});const _e=H(ce,[["__scopeId","data-v-d249f238"]]);export{_e as default};
